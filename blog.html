---
layout: default
title: Blog
pagination:
  enabled: true
  collection: posts
---

<section class="acw-section">
  <div class="acw-container">
    <h1>Blog</h1>
    <p class="acw-lead">
      Notes on calm websites, clear messaging, and building trust online — written for therapists.
    </p>

    <!-- Optional search hook (only shows if your search.js populates results) -->
    <form class="acw-blog-search" role="search" aria-label="Blog search" onsubmit="return false;">
      <input id="blog-search-input" type="search" placeholder="Search posts…" autocomplete="off" />
      <button id="blog-search-button" class="acw-btn acw-btn-ghost" type="button">Search</button>
      <span id="blog-search-count" class="acw-blog-search-count" aria-live="polite"></span>
    </form>

    <ul id="blog-search-results" class="acw-blog-search-results" hidden></ul>

    <div class="acw-blog-grid" id="blogPosts">
      {% for post in paginator.posts %}
        <article class="acw-card acw-blog-card">
          <h2 class="acw-blog-title">
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </h2>

          <p class="acw-blog-meta">
            {{ post.date | date: "%-d %B %Y" }}
          </p>

          <p class="acw-muted">
            {{ post.description | default: post.excerpt | strip_html | truncatewords: 22 }}
          </p>

          <a class="acw-blog-readmore" href="{{ post.url | relative_url }}">Read →</a>
        </article>
      {% endfor %}
    </div>

    <nav class="acw-pagination" aria-label="Pagination">
      {% if paginator.previous_page %}
        <a class="acw-btn acw-btn-ghost" href="{{ paginator.previous_page_path | relative_url }}">← Newer</a>
      {% endif %}

      {% if paginator.next_page %}
        <a class="acw-btn acw-btn-ghost" href="{{ paginator.next_page_path | relative_url }}">Older →</a>
      {% endif %}
    </nav>
  </div>
</section>

<script>
  // If your existing search.js populates #blog-search-results, we’ll reveal it and hide the grid on query.
  (function(){
    const input = document.getElementById('blog-search-input');
    const grid  = document.getElementById('blogPosts');
    const results = document.getElementById('blog-search-results');
    if (!input || !grid || !results) return;

    input.addEventListener('input', function(){
      const q = this.value.trim();
      // Show results area only when searching
      results.hidden = !q;
      // Hide normal grid while searching
      grid.style.display = q ? 'none' : '';
    });
  })();
</script>

<script src="{{ '/assets/js/search.js' | relative_url }}" defer></script>